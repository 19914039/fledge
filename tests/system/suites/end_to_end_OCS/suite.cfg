#!/usr/bin/env bash

# FogLAMP server references
export FOGLAMP_SERVER=localhost
export FOGLAMP_PORT=8081

# Related to FogLAMP
export SCHEDULE_ID_OCS_PLUGIN=`curl -s -X GET http://${FOGLAMP_SERVER}:${FOGLAMP_PORT}/foglamp/schedule | jq --raw-output '.schedules | .[] | select(.name=="OMF to OCS north") | .id'`

# Related to the specific OCS account
export OCS_TENANT=`curl -s -X GET http://${FOGLAMP_SERVER}:${FOGLAMP_PORT}/foglamp/category/SEND_PR_4/tenant_id  |  jq -r  '.value '`
export OCS_CLIENT_ID=`curl -s -X GET http://${FOGLAMP_SERVER}:${FOGLAMP_PORT}/foglamp/category/SEND_PR_4/client_id  |  jq  -r  '.value '`
export OCS_CLIENT_SECRET=`curl -s -X GET http://${FOGLAMP_SERVER}:${FOGLAMP_PORT}/foglamp/category/SEND_PR_4/client_secret  |  jq -r   '.value '`

# OCS namespace where the infomration are stored
export OCS_NAMESPACE=`curl -s -X GET http://${FOGLAMP_SERVER}:${FOGLAMP_PORT}/foglamp/category/SEND_PR_4/namespace  |  jq  -r '.value '`

# Define the asset information
export ASSET_CODE="fogbench_smoke_test"

# Define the asset information to retrieve from OCS
export OCS_STREAM="measurement_${ASSET_CODE}"
export START_TIMESTAMP="2018-01-01T00:00:00.000000Z"
export VALUES_COUNT=10000